webpackJsonp([1],{AmZk:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},s,!1,function(t){n("cKd+")},null,null).exports,o=n("/ocq"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mainWrap"},[e("mt-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:this.handleToKey}},[this._v("键盘模式")]),this._v(" "),e("mt-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{type:"primary"},on:{click:this.handleToMouse}},[this._v("鼠标模式")])],1)},staticRenderFns:[]};var l=n("VU/8")({name:"Main",mounted:function(){},methods:{handleToKey:function(){this.$router.push("key")},handleToMouse:function(){this.$router.push("mouse")}}},a,!1,function(t){n("UfPJ")},null,null).exports,u=n("mvHQ"),d=n.n(u),h=["q","w","e","r","t","y","u","i","o","p","a","s","d","f","g","h","j","k","l","z","x","c","v","b","n","m","up","down","left","right"],r={name:"Key",data:function(){return this.touchX=0,this.touchY=0,{popupVisible:!1,slots:[{values:h}],edit:!1,btnList:[],editBtnList:[],selectIndex:-1,newBtnKey:h[0]}},mounted:function(){this.listener()},methods:{listener:function(){this.$socket.on("welcome",function(){console.log("welcome")})},onValuesChange:function(t,e){this.newBtnKey=e[0]},handleGoEdit:function(){this.edit=!0,this.editBtnList=JSON.parse(d()(this.btnList))},handleClickAdd:function(){this.popupVisible=!0},handleKeyDown:function(t){console.log("按键被按下",t),this.$socket.emit("keydown",t)},handleKeyUp:function(t){console.log("按键被抬起",t),this.$socket.emit("keyup",t)},handleTouchStart:function(t,e){console.log(t),this.selectIndex=e,this.touchX=t.targetTouches[0].clientX,this.touchY=t.targetTouches[0].clientY},handleTouchMove:function(t,e){var n=t.targetTouches[0].clientX,i=t.targetTouches[0].clientY,s=n-this.touchX,c=i-this.touchY;this.touchX=n,this.touchY=i,this.btnList[this.selectIndex].x+=s,this.btnList[this.selectIndex].y+=c},handleClickCancel:function(){this.btnList=[].concat(this.editBtnList),this.editBtnList=[],this.edit=!1,this.selectIndex=-1},handleClickSure:function(){this.editBtnList=[],this.edit=!1,this.selectIndex=-1},handleClickAddSure:function(){this.btnList.push({key:this.newBtnKey,side:60,x:50,y:50}),this.selectIndex=-1,this.popupVisible=!1},handleClickDel:function(){this.btnList.splice(this.selectIndex,1),this.selectIndex=-1},handleClickLarge:function(){this.btnList[this.selectIndex].side<200&&(this.btnList[this.selectIndex].side+=10)},handleClickSmall:function(){this.btnList[this.selectIndex].side>10&&(this.btnList[this.selectIndex].side-=10)}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"conWrap"},[t.edit?t._e():n("mt-button",{staticClass:"conGoEdit",attrs:{type:"primary",size:"small"},on:{click:t.handleGoEdit}},[t._v("自定义")]),t._v(" "),t.edit?n("div",{staticClass:"conOpeBar"},[n("mt-button",{staticClass:"conBtn",attrs:{type:"primary",size:"small",disabled:t.selectIndex<0},on:{click:t.handleClickLarge}},[t._v("放大")]),t._v(" "),n("mt-button",{staticClass:"conBtn",attrs:{type:"primary",size:"small",disabled:t.selectIndex<0},on:{click:t.handleClickSmall}},[t._v("缩小")]),t._v(" "),n("mt-button",{staticClass:"conBtn",attrs:{type:"primary",size:"small"},on:{click:t.handleClickAdd}},[t._v("新增")]),t._v(" "),n("mt-button",{staticClass:"conBtn",attrs:{type:"primary",size:"small"},on:{click:t.handleClickSure}},[t._v("完成")]),t._v(" "),n("mt-button",{staticClass:"conBtn",attrs:{type:"danger",size:"small",disabled:t.selectIndex<0},on:{click:t.handleClickDel}},[t._v("删除")]),t._v(" "),n("mt-button",{staticClass:"conBtn",attrs:{size:"small"},on:{click:t.handleClickCancel}},[t._v("取消")])],1):t._e(),t._v(" "),n("div",{staticClass:"conBoard"},t._l(t.btnList,function(e,i){return n("div",{key:i,staticClass:"conBoardBtn",class:{conBoardBtnActive:t.selectIndex===i},style:{width:e.side+"px",height:e.side+"px",left:e.x+"px",top:e.y+"px"},on:{touchstart:function(n){t.edit?t.handleTouchStart(n,i):t.handleKeyDown(e.key)},touchmove:function(n){t.edit&&t.handleTouchMove(n,e)},touchend:function(n){!t.edit&&t.handleKeyUp(e.key)}}},[t._v("\n      "+t._s(e.key)+"\n    ")])})),t._v(" "),n("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom",closeOnClickModal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[n("div",{staticClass:"conPopOpe"},[n("div",{staticClass:"conPopOpeCancel",on:{click:function(e){t.popupVisible=!1}}},[t._v("取消")]),t._v(" "),n("div",{staticClass:"contPopOpeSure",on:{click:t.handleClickAddSure}},[t._v("确定")])]),t._v(" "),n("mt-picker",{staticStyle:{width:"100%"},attrs:{slots:t.slots},on:{change:t.onValuesChange}})],1)],1)},staticRenderFns:[]};var m=n("VU/8")(r,p,!1,function(t){n("AmZk")},"data-v-a6c691ea",null).exports,f=n("Xxa5"),v=n.n(f),k=n("exGp"),y=n.n(k),C=0,b=0,_={name:"Mouse",mounted:function(){this.listener()},methods:{handleTouchStart:function(){var t=y()(v.a.mark(function t(e){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.targetTouches[0],C=n.screenX,b=n.screenY,this.$socket.emit("touchstart");case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleTouchMove:function(t){var e=t.targetTouches[0],n=e.screenX,i=e.screenY,s=n-C,c=i-b;this.$socket.emit("changeMousePos",{x:s,y:c})},handleTouchEnd:function(){var t=y()(v.a.mark(function t(e){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$socket.emit("touchend");case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),handleClick:function(){this.$socket.emit("mouseclick")}}},x={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"mouseField",on:{touchstart:t.handleTouchStart,touchmove:function(e){return e.stopPropagation(),t.handleTouchMove(e)},touchend:t.handleTouchEnd,click:t.handleClick}})},staticRenderFns:[]};var w=n("VU/8")(_,x,!1,function(t){n("Zwvh")},"data-v-a2a7cb8a",null).exports;i.default.use(o.a);var g=new o.a({routes:[{path:"/main",name:"main",component:l},{path:"/key",component:m},{path:"/mouse",component:w}]}),L=n("Au9i"),T=n.n(L),B=n("v5o6"),S=n.n(B);n("d8/S");i.default.use(T.a),"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){S.a.attach(document.body)},!1),i.default.prototype.$socket=io(),i.default.config.productionTip=!1,new i.default({el:"#app",router:g,components:{App:c},template:"<App/>"})},UfPJ:function(t,e){},Zwvh:function(t,e){},"cKd+":function(t,e){},"d8/S":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9bc41b42868223657368.js.map